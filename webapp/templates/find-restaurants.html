<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NYC Restaurant Finder</title>
  <link href="/static/style.css" rel="stylesheet">
</head>

<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo">
                <a href="index.html">NYC Restaurant Finder</a>
            </div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="find-restaurants.html">Find Restaurants</a>
                <a href="my-restaurants.html">My Restaurants</a>
                <a href="account.html">Account</a>
            </div>
        </div>
    </nav>

    <!-- Main content -->
    <div class="container">
        <!-- Filters sidebar -->
        <div class="filters">
            <div class="filter-section">
                <h3>Location</h3>
                <div class="filter-options">
                    <div class="filter-option">
                        <input type="checkbox" id="manhattan" name="location">
                        <label for="manhattan">Manhattan</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="brooklyn" name="location">
                        <label for="brooklyn">Brooklyn</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="queens" name="location">
                        <label for="queens">Queens</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="bronx" name="location">
                        <label for="bronx">Bronx</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="staten-island" name="location">
                        <label for="staten-island">Staten Island</label>
                    </div>
                </div>
            </div>

            <div class="filter-section">
                <h3>Price Range</h3>
                <div class="filter-options">
                    <div class="filter-option">
                        <input type="checkbox" id="price-1" name="price">
                        <label for="price-1">$ (Under $15)</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="price-2" name="price">
                        <label for="price-2">$$ ($15-$30)</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="price-3" name="price">
                        <label for="price-3">$$$ ($31-$60)</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="price-4" name="price">
                        <label for="price-4">$$$$ (Above $60)</label>
                    </div>
                </div>
            </div>

            <div class="filter-section">
                <h3>Occasion</h3>
                <div class="filter-options">
                    <div class="filter-option">
                        <input type="checkbox" id="casual" name="occasion">
                        <label for="casual">Casual Dining</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="date-night" name="occasion">
                        <label for="date-night">Date Night</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="business" name="occasion">
                        <label for="business">Business Meal</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="special" name="occasion">
                        <label for="special">Special Occasion</label>
                    </div>
                </div>
            </div>

            <button class="apply-filters" onclick="applyFilters()">Apply Filters</button>
        </div>

        <!-- Map section -->
        <div class="map-container">
            <div id="map"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Initialize Google Maps
        function initMap() {
            // NYC coordinates
            const nyc = { lat: 40.7128, lng: -74.0060 };
            
            // Create map
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 12,
                center: nyc,
            });

            // Sample restaurant data - replace with your actual data
            const restaurants = [
                { name: "Restaurant 1", position: { lat: 40.7589, lng: -73.9851 }, price: "$$", occasion: "Casual" },
                { name: "Restaurant 2", position: { lat: 40.7484, lng: -73.9857 }, price: "$$$", occasion: "Date Night" },
                // Add more restaurants as needed
            ];

            // Add markers for each restaurant
            restaurants.forEach(restaurant => {
                const marker = new google.maps.Marker({
                    position: restaurant.position,
                    map: map,
                    title: restaurant.name
                });

                // Add info window for each marker
                const infoWindow = new google.maps.InfoWindow({
                    content: `
                        <div>
                            <h3>${restaurant.name}</h3>
                            <p>Price: ${restaurant.price}</p>
                            <p>Occasion: ${restaurant.occasion}</p>
                        </div>
                    `
                });

                marker.addListener("click", () => {
                    infoWindow.open(map, marker);
                });
            });
        }

        // Filter functionality
        function applyFilters() {
            // Get selected filters
            const locations = document.querySelectorAll('input[name="location"]:checked');
            const prices = document.querySelectorAll('input[name="price"]:checked');
            const occasions = document.querySelectorAll('input[name="occasion"]:checked');

            // Add your filter logic here
            console.log("Applying filters...");
            console.log("Selected locations:", Array.from(locations).map(l => l.id));
            console.log("Selected prices:", Array.from(prices).map(p => p.id));
            console.log("Selected occasions:", Array.from(occasions).map(o => o.id));

            // Update map markers based on filters
            // Add your marker filtering logic here
        }
    </script>
    <script async
        src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMap">
    </script>
</body>
</html>